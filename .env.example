# ============================================================
# OpenClaw AI Platform 環境配置
# ============================================================
# 說明：複製此檔案為 .env 並根據您的環境修改配置
# 命令：cp .env.example .env
# ============================================================

# ============================================================
# OpenClaw 核心服務
# ============================================================

# OpenClaw Gateway 端口
# 用途：AI Agent 的主要入口，WebSocket 連接端口
# 推薦：預設值 18789，生產環境可更改為 80 或 443（配合反向代理）
# 範圍：1024-65535
OPENCLAW_PORT=18789

# OpenClaw 數據存儲路徑
# 用途：儲存 OpenClaw 的配置、日誌和臨時文件
# 推薦：使用相對路徑 ./data/openclaw 或絕對路徑 /var/lib/openclaw
# 注意：確保目錄存在且可寫入
OPENCLAW_DATA_PATH=./data/openclaw

# ============================================================
# AI 模型服務 (Ollama)
# ============================================================

# Ollama API 端口
# 用途：本地 AI 模型推理服務
# 推薦：預設值 11434
# 範圍：1024-65535
OLLAMA_PORT=11434

# Ollama 模型存儲路徑
# 用途：儲存下載的 AI 模型（每個模型約 2-8 GB）
# 推薦：使用獨立的大容量磁碟分區
# 注意：首次啟動需要下載模型，確保有足夠空間
OLLAMA_MODELS_PATH=./data/ollama

# 預設模型列表（首次啟動時自動下載）
# 用途：初始化時預先下載的模型
# 推薦：根據硬體配置選擇
#   - 低配置（8GB RAM）：qwen2.5:1.5b, llama3.2:1b
#   - 中配置（16GB RAM）：qwen2.5:3b, llama3.2:3b
#   - 高配置（32GB+ RAM）：qwen2.5:7b, llama3.1:8b
# 格式：以空格分隔的模型名稱
OLLAMA_DEFAULT_MODELS=qwen2.5:3b llama3.2:3b

# ============================================================
# 資料服務 (Redis)
# ============================================================

# Redis 端口
# 用途：快取、Session 存儲、訊息佇列
# 推薦：預設值 6379
# 範圍：1024-65535
REDIS_PORT=6379

# Redis 數據存儲路徑
# 用途：持久化存儲 Redis 數據
# 推薦：./data/redis
REDIS_DATA_PATH=./data/redis

# Redis 密碼（可選，生產環境強烈建議設置）
# 用途：保護 Redis 服務
# 推薦：使用強密碼（16+ 字元，包含大小寫字母、數字、特殊符號）
# 生成：openssl rand -base64 32
# 預設：無密碼（僅限開發環境）
# REDIS_PASSWORD=your-redis-password-here

# ============================================================
# 搜尋服務 (SearxNG)
# ============================================================

# SearxNG 端口
# 用途：隱私友善的元搜尋引擎
# 推薦：預設值 8080
# 範圍：1024-65535
SEARXNG_PORT=8080

# SearxNG 數據存儲路徑
# 用途：儲存 SearxNG 配置和緩存
# 推薦：./data/searxng
SEARXNG_DATA_PATH=./data/searxng

# SearxNG 密鑰（用於加密 cookies）
# 用途：保護 SearxNG session
# 推薦：使用隨機生成的長字串
# 生成：openssl rand -hex 32
SEARXNG_SECRET_KEY=your-searxng-secret-key-change-in-production

# ============================================================
# 監控服務 (Portainer)
# ============================================================

# Portainer 端口
# 用途：Docker 容器管理界面
# 推薦：預設值 9000
# 範圍：1024-65535
PORTAINER_PORT=9000

# Portainer 數據存儲路徑
# 用途：儲存 Portainer 配置和用戶數據
# 推薦：./data/portainer
PORTAINER_DATA_PATH=./data/portainer

# Portainer 管理員密碼
# 用途：首次啟動時設置管理員密碼
# 注意：密碼需要 bcrypt 加密，建議首次啟動後在界面設置
# 生成：htpasswd -nbB admin "your-password" | cut -d ":" -f 2
# PORTAINER_ADMIN_PASSWORD=

# ============================================================
# 控制面板
# ============================================================

# 控制面板前端端口
# 用途：React Web UI
# 推薦：預設值 4000
# 範圍：1024-65535
CONTROL_PANEL_PORT=4000

# API Server 端口
# 用途：控制面板後端 API
# 推薦：預設值 5000
# 範圍：1024-65535
API_SERVER_PORT=5000

# SQLite 資料庫路徑
# 用途：控制面板和向量搜尋的資料庫
# 推薦：./data/openclaw.db
# 注意：檔案會自動建立，確保目錄存在
DATABASE_PATH=./data/openclaw.db

# ============================================================
# 語音服務（可選）- Profile: voice
# ============================================================

# 啟用語音服務
# 用途：啟用語音識別和語音合成功能
# 推薦：開發環境 false，生產環境按需啟用
ENABLE_VOICE_SERVICES=false

# Whisper.cpp 端口（語音識別）
# 用途：將語音轉換為文字（輸入）
# 推薦：預設值 8081（避免與 SearxNG 衝突）
# 範圍：1024-65535
WHISPER_PORT=8081

# Whisper 模型大小
# 用途：語音識別模型選擇
# 選項：tiny, base, small, medium, large
# 推薦：
#   - 快速識別（低資源）：tiny 或 base
#   - 平衡（中資源）：small 或 medium
#   - 高精度（高資源）：large
# 模型大小：
#   - tiny: ~75 MB
#   - base: ~142 MB
#   - small: ~466 MB
#   - medium: ~1.5 GB
#   - large: ~2.9 GB
WHISPER_MODEL=base

# Edge-TTS 端口（語音合成）
# 用途：將文字轉換為語音（輸出）
# 推薦：預設值 5050
# 範圍：1024-65535
EDGE_TTS_PORT=5050

# Edge-TTS 預設語音
# 用途：預設的語音輸出聲音
# 選項：
#   - zh-TW-HsiaoChenNeural（台灣女聲）
#   - zh-TW-YunJheNeural（台灣男聲）
#   - zh-CN-XiaoxiaoNeural（中國女聲）
#   - zh-CN-YunxiNeural（中國男聲）
#   - en-US-JennyNeural（美國女聲）
#   - en-US-GuyNeural（美國男聲）
EDGE_TTS_DEFAULT_VOICE=zh-TW-HsiaoChenNeural

# ============================================================
# Agent 通訊（可選）- Profile: agent
# ============================================================

# 啟用 NATS Agent 通訊
# 用途：啟用 Agent 之間的訊息佇列和通訊
# 推薦：開發環境 false，多 Agent 場景啟用
ENABLE_AGENT_MESSAGING=false

# NATS 客戶端端口
# 用途：Agent 連接 NATS 的端口
# 推薦：預設值 4222
# 範圍：1024-65535
NATS_PORT=4222

# NATS 監控端口
# 用途：NATS 管理和監控界面
# 推薦：預設值 8222
# 範圍：1024-65535
NATS_MONITOR_PORT=8222

# NATS 數據存儲路徑
# 用途：儲存 NATS 訊息佇列數據
# 推薦：./data/nats
NATS_DATA_PATH=./data/nats

# ============================================================
# 向量搜尋（內嵌於 API Server）
# ============================================================

# 向量嵌入模型
# 用途：生成文本的向量嵌入
# 選項：
#   - all-MiniLM-L6-v2（快速，384 維）
#   - all-mpnet-base-v2（平衡，768 維）
#   - multi-qa-mpnet-base-dot-v1（高精度，768 維）
# 推薦：all-MiniLM-L6-v2（開發）/ all-mpnet-base-v2（生產）
VECTOR_EMBEDDING_MODEL=all-MiniLM-L6-v2

# 向量搜尋結果數量
# 用途：預設返回的相似結果數量
# 推薦：5-20
VECTOR_SEARCH_LIMIT=10

# ============================================================
# 安全配置
# ============================================================

# JWT 簽名密鑰
# 用途：簽名和驗證 JWT token
# 推薦：使用隨機生成的長字串（至少 32 字元）
# 生成：openssl rand -base64 48
# ⚠️ 警告：生產環境必須修改此值！
JWT_SECRET=your-super-secret-jwt-key-change-in-production-use-openssl-rand

# JWT 過期時間
# 用途：用戶登入 token 的有效期
# 格式：數字 + 單位（s=秒, m=分, h=時, d=天）
# 推薦：
#   - 開發環境：7d（7 天）
#   - 生產環境：1d（1 天）或更短
JWT_EXPIRES_IN=7d

# 管理員 Email
# 用途：首次啟動時創建的管理員帳號
# 注意：生產環境必須修改
ADMIN_EMAIL=admin@example.com

# 管理員密碼
# 用途：首次啟動時創建的管理員密碼
# ⚠️ 警告：生產環境必須修改！
# 推薦：使用強密碼（12+ 字元，包含大小寫字母、數字、特殊符號）
ADMIN_PASSWORD=change-me-in-production

# ============================================================
# Docker 配置
# ============================================================

# Docker 網絡名稱
# 用途：所有服務使用的 Docker 網絡
# 推薦：openclaw-network
DOCKER_NETWORK=openclaw-network

# Docker Compose 專案名稱
# 用途：Docker Compose 專案前綴
# 推薦：openclaw
COMPOSE_PROJECT_NAME=openclaw

# ============================================================
# 效能配置
# ============================================================

# API 請求速率限制（每分鐘請求數）
# 用途：防止 API 濫用
# 推薦：100-1000
API_RATE_LIMIT=100

# 日誌級別
# 用途：控制日誌輸出詳細程度
# 選項：debug, info, warn, error
# 推薦：
#   - 開發環境：debug
#   - 生產環境：info 或 warn
LOG_LEVEL=info

# 日誌保存天數
# 用途：自動清理舊日誌
# 推薦：7-30 天
LOG_RETENTION_DAYS=7

# ============================================================
# 開發配置
# ============================================================

# Node.js 環境
# 用途：應用程式運行模式
# 選項：development, production, test
NODE_ENV=production

# 啟用調試模式
# 用途：啟用詳細錯誤訊息和調試工具
# ⚠️ 警告：生產環境應設為 false
DEBUG_MODE=false

# 啟用 CORS
# 用途：允許跨域請求
# 推薦：開發環境 true，生產環境 false
ENABLE_CORS=false

# CORS 允許的來源（多個以逗號分隔）
# 用途：指定允許的跨域來源
# 範例：http://localhost:3000,https://yourdomain.com
CORS_ORIGINS=http://localhost:4000

# ============================================================
# 備份配置（可選）
# ============================================================

# 啟用自動備份
# 用途：定期備份資料庫和配置
# 推薦：生產環境 true
ENABLE_BACKUP=false

# 備份時間（Cron 格式）
# 用途：定時備份執行時間
# 範例：
#   - 0 2 * * *（每天凌晨 2 點）
#   - 0 */6 * * *（每 6 小時）
BACKUP_SCHEDULE=0 2 * * *

# 備份保留天數
# 用途：保留多少天的備份
# 推薦：7-30 天
BACKUP_RETENTION_DAYS=7

# 備份存儲路徑
# 用途：備份檔案存儲位置
# 推薦：./backups 或 /var/backups/openclaw
BACKUP_PATH=./backups

# ============================================================
# 通知配置（可選）
# ============================================================

# 啟用電子郵件通知
# 用途：發送系統警報和通知
ENABLE_EMAIL_NOTIFICATIONS=false

# SMTP 伺服器配置
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=noreply@example.com

# 啟用 Webhook 通知
# 用途：向外部服務發送通知
ENABLE_WEBHOOK_NOTIFICATIONS=false

# Webhook URL
# WEBHOOK_URL=https://your-webhook-endpoint.com/notify

# ============================================================
# 完整配置範例
# ============================================================
# 最小配置（僅核心服務）：
#   - OPENCLAW_PORT=18789
#   - OLLAMA_PORT=11434
#   - REDIS_PORT=6379
#   - SEARXNG_PORT=8080
#   - JWT_SECRET=<生成的密鑰>
#   - ADMIN_EMAIL=<您的 Email>
#   - ADMIN_PASSWORD=<強密碼>
#
# 生產環境配置：
#   - 啟用所有安全設置
#   - 設置 REDIS_PASSWORD
#   - 設置較短的 JWT_EXPIRES_IN
#   - 啟用備份
#   - 設置 LOG_LEVEL=warn
#   - NODE_ENV=production
#
# 開發環境配置：
#   - DEBUG_MODE=true
#   - LOG_LEVEL=debug
#   - ENABLE_CORS=true
#   - NODE_ENV=development
# ============================================================
